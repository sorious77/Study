## Hashing

- 용어
  - 충돌(Collision) : 서로 다른 입력 값에 대해 동일한 해시 값을 가질 경우
  - 클러스터(Cluster) : 특정 범위 내의 주소값에 데이터가 몰리는 경우
- Hash Function
  - 나눗셈법(Division Method)
    - 해쉬 테이블의 인덱스 : 입력 값 % 테이블의 크기
    - 테이블의 크기 n은 2의 제곱 수와 거리가 먼 소수를 사용하는 것이 가장 성능이 좋음
      - 2진수로 바꿨을 때 충돌이 일어날 확률이 높음
    - 또한, 키의 개수의 3배 이상을 사용하는 것이 좋음
  - 자릿수 접기
    - 숫자의 각 자릿수를 더해 해시 값을 만드는 것
    - 문자열을 키 값으로 가지는 경우 사용하기 좋음
      - 아스키 코드 번호는 0 ~ 127의 값을 가지기 때문

- 충돌 해결

  - 개방 해싱(Open Hashing) : 해시 테이블 바깥에 새로운 공간을 할당하여 문제를 해결

    - 체이닝(Chaining)
      - 서로 다른 데이터가 같은 주솟값을 가질 경우, 해당 주소에 있는 연결 리스트에 데이터를 삽입하여 문제를 해결

  - 폐쇄 해싱(Closed Hashing) : 주어진 해시 테이블 안에서 문제를 해결

    - 개방 주소법(Open Addressing)

      - 충돌이 발생할 경우 해시 테이블 내의 새로운 주소를 탐색하여 데이터를 삽입

      - 선형 탐사(Linear Probing) : 인덱스를 n씩 더해가며 빈 공간을 찾아서 데이터를 삽입

        - 클러스터 현상이 발생할 확률이 매우 높음

        - 탐색에 걸리는 시간이 매우 늘어나 효율이 저하될 수 있음

      - 제곱 탐사(Quadratic Probing) : 충돌이 일어날 때마다 (n+1)<sup>2</sup>을 더한 값을 주소로 사용

        - 제곱수의 값만큼 이동이 계속해서 이루어지기에 같은 해시 값을 가지는 데이터끼리는 2차 클러스터링이 발생할 가능성이 높음

      - 이중 해싱(Double Hashing) : 처음 해시 함수를 사용했을 때 충돌이 발생하면, 다음 주소를 다른 해시 함수를 통해 구하는 방법

  - 재해싱(Rehashing)

    - 해시 테이블에 데이터가 많아질 경우, 계속해서 충돌이 발생하기 때문에 해시 테이블의 크기를 늘리고, 기존 데이터를 다시 해싱하는 방법

    - 주로 70~80%에서 성능저하가 발생하지만, 오버헤드가 높기 때문에 약 75% 정도에서 재해싱을 하는 것이 일반적

- 활용
  - 해시 테이블 : 데이터의 해시 값을 테이블의 주소로 사용
  - 암호화 : SHA(Secure Hash Algorithm)
  - 데이터 축약 : 데이터를 일정한 길이로 만드는 해시의 성질을 이용하여 데이터를 축약할 수 있음